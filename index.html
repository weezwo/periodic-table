<html>
  <head></head>
  <body>
    <div id="table"></div>
    <script src="https://unpkg.com/konva@8/konva.min.js"></script>
    <script src="./elements.js"></script>
    <script src="./atomLogic.js"></script>

    <script>
      console.log('hi :)')
      
      let elements = []
      function createElements() {
        for(i=0; i < ELEMENTAL_SYMBOLS.length; i++) {
          elements.push(new Atom(i+1))
        }
        return "Elements created."
      }
      createElements()

      const windowWidth = window.innerWidth
      const windowHeight = window.innerHeight
     
      function calculateFill(element) {
        const colors = ["pink", "yellow", "blue", "green"]
        if (element.valenceShellCapacity == 2) return colors[0]
        if (element.valenceShellCapacity == 6) return colors[1]
        if (element.valenceShellCapacity == 10) return colors[2]
        if (element.valenceShellCapacity == 14) return colors[3]
      }

      let stage = new Konva.Stage({
        container: 'table',
        width: windowWidth,
        height: windowHeight
      })

      let layer = new Konva.Layer()

      elements.forEach(e => {
        // individual element box
        //group
        const boxWidth = 100
        const boxHeight = 120

        let elementBox = new Konva.Group({
          x: boxWidth * e.atomicNumber, // boxWidth * groupNumber !! 
          y: 100
        })
        // surrounding box
        let outerBox = new Konva.Rect({
          width: boxWidth,
          height: boxHeight,
          stroke: 'black',
          strokeWidth: 4,
          fill: calculateFill(e)
        })

        // atomic number
        let atomicNumber  = new Konva.Text({
          x: 12,
          y: 10,
          text: e.atomicNumber,
          align: 'left',
          fontSize: 14,
          fill: 'black'
        })

        // symbol
        let elementalSymbol = new Konva.Text({
          y: 30,
          width: 100,
          text: e.elementalSymbol,
          align: 'center',
          fontSize: 55,
          fill: 'black'
        })

        // name
        let elementalName = new Konva.Text({
          y: 85,
          width: 100,
          text: e.name,
          align: 'center',
          fontSize: 16,
          fill: 'black'
        })
        // end individual element box
 
        elementBox.add(outerBox)
        elementBox.add(atomicNumber)
        elementBox.add(elementalSymbol)
        elementBox.add(elementalName)
        layer.add(elementBox)
        stage.add(layer)


      
      })
    </script>
  </body>
  
  
</html>
